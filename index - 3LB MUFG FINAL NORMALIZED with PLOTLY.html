<html lang="en">
    <head>
        
        <title>JS FileReader</title>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.0.2/dist/tfjs-vis.umd.min.js"></script>
        <script src="https://unpkg.com/simple-statistics@7.0.8/dist/simple-statistics.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>
    <body> 
        <div id="forecastedthreelinebreakpart">
</div>
<div id="main_part">
            TLB(Three Line Break)  Neural Net Prediction on TSE東証 8306 MUFG (株)三菱ＵＦＪフィナンシャル・グループ<br />
            Normalized Version<br />
            <form name="dataform">
                <input name="myuniti" placeholder="256" style="left: 350px; position: relative; width: 50px;" type="number" value="256" /> #OfNeurons/layerニューロン数/層<br />
                <input name="myepoci" placeholder="20" style="left: 350px; position: relative; width: 50px;" type="number" value="20" /> #ofEpoc教育繰り返し回数<br />
                <input name="myactivation1i" placeholder="relu6" style="left: 350px; position: relative; width: 50px;" type="text" value="relu6" /> InputLyrActivFunc入力層活性化関数<br />
                <input name="myactivation2i" placeholder="relu6" style="left: 350px; position: relative; width: 50px;" type="text" value="relu6" /> HidnLyrActivFunc中間層活性化関数<br />
                <input name="myhiddenlayeri" placeholder="8" style="left: 350px; position: relative; width: 50px;" type="number" value="8" /> #ofHiddenLayer中間層の数<br />
                <input name="mytlbinputs" placeholder="20" style="left: 350px; position: relative; width: 50px;" type="number" value="20" /> #ofThreeLineBreaks入力 新値 本数<br />
                <input name="myvalidationSplit" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" /> ValidationSplit 検証用データ割合<br /> 

                <input name="mystartdate" placeholder="0.0" style="left: 350px; position: relative; width: 60px;" type="text" value="0.0" /> ObservationStartDate 時系列開始日<br />
                <input name="myenddate" placeholder="0.0" style="left: 350px; position: relative; width: 60px;" type="text" value="0.0" /> ObservationEndDate 時系列最終日<br />
                <input name="cmdCalc" onclick="AI_Start()" style="background-color: lightblue; left: 50px; position: relative; width: 360px;" type="button" value="READING TIME SERIES NOW" /><br /> 
                Input most recent three line break width <br />
                <input name="TLB20" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 20 新値幅 20 本前<br />
                <input name="TLB19" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 19 新値幅 19 本前<br />
                <input name="TLB18" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 18 新値幅 18 本前<br />
                <input name="TLB17" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 17 新値幅 17 本前<br />
                <input name="TLB16" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 16 新値幅16 本前<br />
                <input name="TLB15" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 15 新値幅 15 本前<br />
                <input name="TLB14" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 14 新値幅 14 本前<br />
                <input name="TLB13" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 13 新値幅 13 本前<br />
                <input name="TLB12" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 12 新値幅 12 本前<br />
                <input name="TLB11" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 11 新値幅 11 本前<br />
                <input name="TLB10" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last 10 新値幅 10 本前<br />
                <input name="TLB09" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  9 新値幅  9 本前<br />
                <input name="TLB08" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  8 新値幅  8 本前<br />
                <input name="TLB07" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  7 新値幅  7 本前<br />
                <input name="TLB06" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  6 新値幅  6 本前<br />
                <input name="TLB05" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  5 新値幅  5 本前<br />
                <input name="TLB04" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  4 新値幅  4 本前<br />
                <input name="TLB03" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  3 新値幅  3 本前<br />
                <input name="TLB02" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  2 新値幅  2 本前<br />
                <input name="TLB01" placeholder="0.0" style="left: 350px; position: relative; width: 50px;" type="number" value="0.0" />　TLB width last  1 新値幅  1 本前<br />
                Output forecast of next three line break width<br />
                <input name="NextTLB" style="left: 350px; position: relative; width: 50px;" type="number" />　ThreeLineBreak Forecast 新値幅予測<br />
            </form>
<canvas height="100" id="myChart" width="100"></canvas>
        </div>
<div id="timeseriespart">
 </div>
<div id="currentthreelinebreakpart">
 </div>
</body></html>

    <script>
        var tlb = new Array() // three line break series
        var tlbd = new Array() // three line break date series
        var tlbw = new Array() // three line break width series
        var tlbs = new Array() // three line break direction inversion
        var pd = new Array() //  price series
        var pdd = new Array() //  price date series
        var forecastvalue
        // plot related variables
        var xpxx = tlbd
        var yopen = new Array()
        var yclose = new Array()
        var yhigh = new Array()
        var ylow = new Array()
        var xorder = new Array()

        settimeseries()
            document.dataform.mystartdate.value = pdd[0]
            document.dataform.myenddate.value = pdd[pdd.length-1]
            console.log("rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr")
            var pdave = ss.mean(Array.from(pd, x => Number(x)))
            var pdsig = ss.standardDeviation(Array.from(pd, x => Number(x)))
            console.log("pdd,pd,pdave,pdsig")
            console.log("pd[0],pd[1]",pd[0],pd[1])
            console.log("pdd,pd,pdave,pdsig",pdd,pd,pdave,pdsig)
            console.log(["1","2","3","4","5"])
            console.log(Array.from(["1","2","3","4","5"],x => Number(x)))
            console.log(Number("1333333333333333"))
            console.log("ss.mean([1-5)")
            console.log(ss.mean(["1","2","3","4","5"]+11))
            console.log("ss.mean(pd)")
            console.log(ss.mean(pd))
            console.log("rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr")
        plottimeseries()
        threelinebreak()
        console.log("TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT")
            console.log(tlbw.length-1,tlbw[tlbw.length-1])
            var tlbwave = ss.mean(tlbw.slice(1))
            var tlbwsig = ss.standardDeviation(tlbw.slice(1))
            console.log("tlbwave,tlbwsig")
            console.log(tlbwave,tlbwsig)
            console.log("three line break statistics tlbw[0],tlbw[1]",tlbw[0],tlbw[1])
            console.log("TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT")

            document.dataform.TLB01.value =  tlbw[tlbw.length-1]
            document.dataform.TLB02.value =  tlbw[tlbw.length-2]
            document.dataform.TLB03.value =  tlbw[tlbw.length-3]
            document.dataform.TLB04.value =  tlbw[tlbw.length-4]
            document.dataform.TLB05.value =  tlbw[tlbw.length-5]
            document.dataform.TLB06.value =  tlbw[tlbw.length-6]
            document.dataform.TLB07.value =  tlbw[tlbw.length-7]
            document.dataform.TLB08.value =  tlbw[tlbw.length-8]
            document.dataform.TLB09.value =  tlbw[tlbw.length-9]
            document.dataform.TLB10.value =  tlbw[tlbw.length-10]
            document.dataform.TLB11.value =  tlbw[tlbw.length-11]
            document.dataform.TLB12.value =  tlbw[tlbw.length-12]
            document.dataform.TLB13.value =  tlbw[tlbw.length-13]
            document.dataform.TLB14.value =  tlbw[tlbw.length-14]
            document.dataform.TLB15.value =  tlbw[tlbw.length-15]
            document.dataform.TLB16.value =  tlbw[tlbw.length-16]
            document.dataform.TLB17.value =  tlbw[tlbw.length-17]
            document.dataform.TLB18.value =  tlbw[tlbw.length-18]
            document.dataform.TLB19.value =  tlbw[tlbw.length-19]
            document.dataform.TLB20.value =  tlbw[tlbw.length-20]
        plotcurrentthreelinebreak()

            document.dataform.cmdCalc.value =  "READY TO START TEACHING TLB(ThreeLineBreaks)"

        function threelinebreak() { // read date & price csv then generate three line break width series. 
            if (pd[1] >= pd[0]) { trend="up" } else {trend="down"}
            j=2
            tlb[0]=pd[0]
            tlb[1]=pd[1]
            tlbd[0]=pdd[0]
            tlbd[1]=pdd[1]
            for (i=2; i<pd.length; i++) {
                if(trend=="uup"){trend="up"}
                if(trend=="ddown"){trend="down"}
                if (trend=="up") {
                    if(pd[i] - tlb[j-1] > 0) {
                        tlb[j]=pd[i]
                        tlbd[j]=pdd[i]
                        tlbs[j]=0  // 20200605 debug for plot duplication on inversion 
                        console.log("up-up : i,pd[i],j,tlb[j],pdd[i],tlbd[j],tlbs[j]",i,pd[i],j,tlb[j],pdd[i],tlbd[j],tlbs[j])
                        j=j+1
                    }
                    else if (tlb[j-1] - pd[i] > 0) {
                        if (pd[i] - Math.min(tlb[Math.max(0,j-1)],tlb[Math.max(0,j-2)],tlb[Math.max(0,j-3)],tlb[Math.max(0,j-4)]) < 0 ) {
// 20200529             if (pd[i] - tlb[Math.max(0,j-4)] < 0 ) {
                            trend="ddown"
                            tlb[j]=pd[i]
                            tlbd[j]=pdd[i]
                            tlbs[j]=-1  // 20200605 debug for plot duplication on inversion 
                            j=j+1
                        }
                    }
                }
                else {
                    if(pd[i] - tlb[j-1] < 0) {
                        tlb[j]=pd[i]
                        tlbd[j]=pdd[i]
                        tlbs[j]=0  // 20200605 debug for plot duplication on inversion 
                        console.log("down-down :i,pd[i],j,tlb[j],pdd[i],tlbd[j],tlbs[j]",i,pd[i],j,tlb[j],pdd[i],tlbd[j],tlbs[j])
                        j=j+1
                    }
                    else if (tlb[j-1] - pd[i] < 0) {
                        if (pd[i] - Math.max(tlb[Math.max(0,j-1)],tlb[Math.max(0,j-2)],tlb[Math.max(0,j-3)],tlb[Math.max(0,j-4)]) > 0) {
// 20200529             if (pd[i] - tlb[Math.max(0,j-4)] > 0) {
                            trend="uup"
                            tlb[j]=pd[i]
                            tlbd[j]=pdd[i]
                            tlbs[j]=1  // 20200605 debug for plot duplication on inversion 
                            j=j+1
                        }
                    }
                }
            }
            for (i=0;i<tlb.length;i++) {tlbw[i]=tlb[i]-tlb[i-1]}
            console.log("printing original time series",pd.length)
            for (i=0;i<pd.length;i++) {console.log(i,pdd[i],pd[i])}
            console.log("printing three line break series",tlb.length)
            for (i=0;i<=tlb.length-1;i++) {console.log(i,tlbd[i],tlb[i],tlbw[i])}
        }


        function AI_Start() {   // from tree line break width series, predict next width ( plus/minus with magnitude )
            var myunit = document.dataform.myuniti.value - 0;
            var myepoc = document.dataform.myepoci.value - 0; 
            var myactivation1 = document.dataform.myactivation1i.value;
            var myactivation2 = document.dataform.myactivation2i.value;
            var myhiddenlayer = document.dataform.myhiddenlayeri.value -0;
            var mytlbinputs = document.dataform.mytlbinputs.value -0;
            var myvalidationSplit = document.dataform.myvalidationSplit.value -0;
            var xs = []; var ys = []; var aiplot = [];
            
            console.log("myunit",myunit);
            console.log("myepoc",myepoc);
            console.log("myactivation1",myactivation1);
            console.log("myactivation2",myactivation2);
            console.log("myhiddenlayer",myhiddenlayer);
            console.log("mytlbinputs",mytlbinputs);

            for (i=0;i<tlb.length;i++) {console.log(i,tlbd[i],tlb[i],tlbw[i])}
            
            // Define a model for linear regression.
            const model = tf.sequential();
            model.add(tf.layers.dense({units: myunit, activation: myactivation1, inputShape: [mytlbinputs]}));
            for ( var i = 1 ; i< myhiddenlayer ; i++ ) {
                model.add(tf.layers.dense({units: myunit, activation: myactivation2}));
            };
            model.add(tf.layers.dense({units: 1}));

            model.compile({loss: 'meanSquaredError', optimizer: 'adam'});

            // Generate some synthetic data for training.

            xs = []
            ys = []
            xsv = [] 
            ysv = []
            xsf = []
            var ntotaldata = tlbw.length-1-mytlbinputs
            var nteachdata = Math.round(ntotaldata * (1-myvalidationSplit))
            var nvalidationdata = ntotaldata - nteachdata
            console.log("ntotaldata",ntotaldata)
            console.log("nteachdata",nteachdata)
            console.log("nvalidationdata",nvalidationdata)

            // Prepare  teaching data
            for (i=1; i<=nteachdata; i++) { 
                var xss = []                
                for (j=i; j<=i+mytlbinputs-1; j++) {
                    xss.push(tlbw[j])
                }
                xs.push(xss)
                ys.push(tlbw[i+mytlbinputs])
            }
            console.log("xs,ys",xs,ys)

            const xst = tf.tensor(xs);
            console.log("This is the tensor used for teaching, xst",xst)
            xst.print();

            const yst = tf.tensor(ys);
            console.log("This is the tensor used for teaching, yst",yst)
            yst.print();

            // Prepare validation data
            for (i=nteachdata+1; i<=ntotaldata; i++) { 
                var xss = []
                for (j=i; j<=i+mytlbinputs-1; j++) {
                    xss.push(tlbw[j])
                }
                xsv.push(xss)
                ysv.push(tlbw[i+mytlbinputs])
            }

            const xstv = tf.tensor(xsv);
            console.log("This is the input tensor used to feed to validation, xstv",xstv)
            xstv.print()

            const ystv = tf.tensor(ysv)
            console.log("This is the output tensor used to feed to validation for actual value comparison, ystv",ystv)
            ystv.print()

            // Prepare Forecast data

            var xss = []
            for (j=tlbw.length-mytlbinputs; j<=tlbw.length-1; j++) {
                xss.push(tlbw[j])
            }
            xsf.push(xss)
            console.log("This is the tensor used to feed to Forecast, xsf",xsf)
            const xstf = tf.tensor(xsf);
            xstf.print()

            // Train the model using the data.
            document.dataform.cmdCalc.value =  "TRAINING NEURAL NET NOW"
            const surface = { name: 'show.fitCallbacks', tab: 'Training' }

            console.log("check print on normalization for tlbwave, tlbwsig",tlbwave, tlbwsig)
            console.log("check print on normalization for xst , normTensor(xst,tlbwave,tlbwsig)")
            xst.print()
            normTensor(xst,tlbwave,tlbwsig).print()
            console.log("check print on normalization for yst , normTensor(yst,tlbwave,tlbwsig)")
            yst.print()
            normTensor(yst,tlbwave,tlbwsig).print()

            //model.fit(xst, yst, {epochs: myepoc, callbacks: tfvis.show.fitCallbacks(surface, ['loss', 'acc'])}).then(() => {
                model.fit(normTensor(xst,tlbwave,tlbwsig), 
                    normTensor(yst,tlbwave,tlbwsig),
                    {epochs: myepoc, callbacks: tfvis.show.fitCallbacks(surface, ['loss', 'acc'])}).then(() => {
                if (nvalidationdata > 0 ) { 
                    console.log("validation")
                    invTensor(model.predict(normTensor(xstv,tlbwave,tlbwsig)),tlbwave,tlbwsig).print()
                    result = invTensor(model.predict(normTensor(xstv,tlbwave,tlbwsig)),tlbwave,tlbwsig).dataSync()
                    console.log(result)
                    ystv.print()
                    console.log("nvalidationdata",nvalidationdata)
                } else { 
                    console.log(" == Last prediction What will happen next then ??  == ")
                    var forecasttensor = invTensor(model.predict(normTensor(xstf,tlbwave,tlbwsig)),tlbwave,tlbwsig)
                    forecasttensor.print()
                    forecastvalue = forecasttensor.dataSync()
                    console.log(forecastvalue)
                    document.dataform.NextTLB.value =  forecastvalue[0]
                    document.dataform.cmdCalc.value = "COMPLETED.. RESULT AT LAST LINE"
                    plotfinalthreelinebreak()
                }
            });
        }

        function plottimeseries() { 

            var xpx = pdd
            var ypx = pd

            var trace1 = {
                type: "scatter",
                mode: "lines",
                name: '8306 MUFG',
                x: xpx,
                y: ypx,
                line: {color: '#17BECF'}
            }

            var data = [trace1];

            var layout = {
                title: '8306 MUFG End of Day Line Chart',
                dragmode: 'zoom',
                showlegend: false, 
                xaxis:{
                    autorange: true,
                    type: 'date',
                },
                yaxis:{
                    autorange: true, 
                }
            };

            Plotly.newPlot('timeseriespart', data, layout);
        }

        function plotcurrentthreelinebreak() {    // 20200605 debug for plot duplication on inversion 

            for (i=0;i<tlb.length-1;i++){
                if (Math.round(tlbs[i+1])==0) { 
                    yopen[i]=tlb[i];
                } else {
                    yopen[i]=yopen[i-1];
                    console.log("#### inversion ####");
                };
                yclose[i]=tlb[i+1];
                yhigh[i]=Math.max(yopen[i],yclose[i]);
                ylow[i]=Math.min(yopen[i],yclose[i]);
                xorder[i]=i;
                console.log("i,xorder[i],xpxx[i],yopen[i],yhigh[i],ylow[i],yclose[i],tlbs[i]",i,xorder[i],xpxx[i],yopen[i],yhigh[i],ylow[i],yclose[i],tlbs[i]);
            }


            var trace1 = {
                type: 'candlestick',
                name: '8306 MUFG',
                x: xorder,
                close: yclose,
                high: yhigh,
                low: ylow,
                open: yopen,
                increasing: {line: {color: '#FF0000'}},
                decreasing: {line: {color: '#0000FF'}}, 
            }

            var data = [trace1];

            var layout = {
                title: '8306 MUFG Three Line Break(Current Without Forecast)',
                dragmode: 'zoom',
                showlegend: false, 
                //xaxis:{
                //    autorange: true,
                //    type: 'number',
                //},
                xaxis: {
                    rangeslider: {
                        visible: false
                    }
                }
                //yaxis:{
                //    autorange: true, 
                //}
            };

            Plotly.newPlot('currentthreelinebreakpart', data, layout);
        }

        function plotfinalthreelinebreak() {  // 20200605 debug for plot duplication on inversion 

            fv=forecastvalue[0]
            for (i=0;i<tlb.length-1;i++){
                if (Math.round(tlbs[i+1])==0) { 
                    yopen[i]=tlb[i];
                } else {
                    yopen[i]=yopen[i-1];
                    console.log("#### inversion ####");
                };
                yclose[i]=tlb[i+1];
                yhigh[i]=Math.max(yopen[i],yclose[i]);
                ylow[i]=Math.min(yopen[i],yclose[i]);
                xorder[i]=i;
                console.log("i,xorder[i],xpxx[i],yopen[i],yhigh[i],ylow[i],yclose[i],tlbs[i]",i,xorder[i],xpxx[i],yopen[i],yhigh[i],ylow[i],yclose[i],tlbs[i]);
            }
            console.log("i",i)
            yopen[i]=tlb[i];
            yclose[i] = parseFloat(tlb[i]) + parseFloat(fv);
            console.log(tlb[i])
            console.log(fv)
            console.log(parseFloat(fv))
            console.log(tlb[i] + parseFloat(fv))
            console.log(yclose[i])
            yhigh[i]=Math.max(yopen[i],yclose[i])
            ylow[i]=Math.min(yopen[i],yclose[i])
            xorder[i]=i
            console.log(i,fv,parseFloat(fv),xorder[i],xpxx[i],yopen[i],yhigh[i],ylow[i],yclose[i])

            var trace1 = {
                type: 'candlestick',
                name: '8306 MUFG',
                x: xorder,
                close: yclose,
                high: yhigh,
                low: ylow,
                open: yopen,
                increasing: {line: {color: '#FF0000'}},
                decreasing: {line: {color: '#0000FF'}}, 
            }

            var data = [trace1];

            var layout = {
                title: '8306 MUFG Three Line Break(The Last Break is the one forecasted)',
                dragmode: 'zoom',
                showlegend: false, 
                //xaxis:{
                //    autorange: true,
                //    type: 'number',
                //},
                xaxis: {
                    rangeslider: {
                        visible: false
                    }
                }
                //yaxis:{
                //    autorange: true, 
                //}
            };

            Plotly.newPlot('forecastedthreelinebreakpart', data, layout);
            playSound(); // Play first time
        }

        function normTensor(inputTensor, meanTensor, sigmaTensor) {
                    return inputTensor.sub(meanTensor).div(sigmaTensor);
        };
        function invTensor(inputTensor, meanTensor, sigmaTensor) {
                    return inputTensor.mul(sigmaTensor).add(meanTensor);
        };

        var playSound = (function beep() {
            var snd = new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");  
            return function() {     
                snd.play(); 
            }
        })();
